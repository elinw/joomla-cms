/*
		GNU General Public License version 2 or later; see LICENSE.txt
*/
var JFormValidator=function(){var f,d,a,b,i=function(m,n,l){l=(l==="")?true:l;d[m]={enabled:l,exec:n};},c=function(o,n){var l,m=f(n);if(!o){return false;}l=m.find("#"+o+"-lbl");if(l.length){return l;}l=m.find('label[for="'+o+'"]');if(l.length){return l;}return false;},h=function(n,m){var l=m.data("label");if(n===false){m.addClass("invalid").attr("aria-invalid","true");if(l){l.addClass("invalid").attr("aria-invalid","true");}}else{m.removeClass("invalid").attr("aria-invalid","false");if(l){l.removeClass("invalid").attr("aria-invalid","false");}}},j=function(o){var m=f(o),l,n;if(m.attr("disabled")){h(true,m);return true;}if(m.attr("required")||m.hasClass("required")){l=m.prop("tagName").toLowerCase();if(l==="fieldset"&&(m.hasClass("radio")||m.hasClass("checkboxes"))){if(!m.find("input:checked").length){h(false,m);return false;}}else{if(!m.val()||m.hasClass("placeholder")||(m.attr("type")==="checkbox"&&!m.is(":checked"))){h(false,m);return false;}}}n=(m.attr("class")&&m.attr("class").match(/validate-([a-zA-Z0-9\_\-]+)/))?m.attr("class").match(/validate-([a-zA-Z0-9\_\-]+)/)[1]:"";if(n===""){h(true,m);return true;}if((n)&&(n!=="none")&&(d[n])&&m.val()){if(d[n].exec(m.val())!==true){h(false,m);return false;}}h(true,m);return true;},k=function(q){var p=true,n,o,r,m,l;f.each(f(q).data("inputfields"),function(s,t){if(j(t)===false){p=false;}});f.each(b,function(t,s){if(s.exec()!==true){p=false;}});if(!p){o=Joomla.JText._("JLIB_FORM_FIELD_INVALID");r=f("label.invalid");m={};m.error=[];for(n=0;n<r.length;n++){l=f(r[n]).text();if(l!=="undefined"){m.error[n]=o+l.replace("*","");}}Joomla.renderMessages(m);}return p;},g=function(m){var l=[];f(m).find("input, textarea, select, fieldset, button").each(function(){var o=f(this),p=o.attr("id"),n=o.prop("tagName").toLowerCase();if(o.hasClass("required")){o.attr("aria-required","true").attr("required","required");}if((n==="input"||n==="button")&&o.attr("type")==="submit"){if(o.hasClass("validate")){o.on("click",function(){return k(m);});}}else{if(n!=="fieldset"){o.on("blur",function(){return j(this);});if(o.hasClass("validate-email")&&a){o.get(0).type="email";}}o.data("label",c(p,m));l.push(o);}});f(m).data("inputfields",l);},e=function(){f=jQuery.noConflict();d={};b=b||{};a=(function(){var l=document.createElement("input");l.setAttribute("type","email");return l.type!=="text";})();i("username",function(l){regex=new RegExp("[<|>|\"|'|%|;|(|)|&]","i");return !regex.test(l);});i("password",function(l){regex=/^\S[\S ]{2,98}\S$/;return regex.test(l);});i("numeric",function(l){regex=/^(\d|-)?(\d|,)*\.?\d*$/;return regex.test(l);});i("email",function(l){regex=/^[a-zA-Z0-9.!#$%&‚Äô*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return regex.test(l);});f("form.form-validate").each(function(){g(this);},this);};e();return{isValid:k,validate:j,setHandler:i,attachToForm:g,custom:b};};document.formvalidator=null;jQuery(function(){document.formvalidator=new JFormValidator();});
